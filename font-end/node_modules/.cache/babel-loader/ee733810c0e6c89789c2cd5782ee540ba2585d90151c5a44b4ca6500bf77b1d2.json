{"ast":null,"code":"var _jsxFileName = \"E:\\\\thuctap3\\\\TTCN-wido\\\\font-end\\\\src\\\\components\\\\Comment.js\",\n  _s = $RefreshSig$();\nimport \"../styles/comment.scss\";\nimport ProfileIcon from \"./ProfileIcon\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Button from \"@mui/material/Button\";\nimport { ReactComponent as CardButton } from \"../images/cardButton.svg\";\nimport React, { useState, useEffect } from \"react\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Comment(props) {\n  _s();\n  var _userData$user;\n  const {\n    accountName,\n    comment,\n    image,\n    id_user,\n    id_com,\n    id_post,\n    parentCallback\n  } = props;\n  const headers = {\n    \"x-access-token\": localStorage.getItem(\"token\")\n  };\n  // get userId\n  const saved = localStorage.getItem(\"info\");\n  const userData = JSON.parse(saved);\n  //handle cho menu button\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const openMenu = Boolean(anchorEl);\n  const handleClickMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n  };\n  //hadnle aleart xoa bai\n  const [openAleart, setOpenAleart] = React.useState(false);\n  const handleClickOpenAleart = () => {\n    setOpenAleart(true);\n  };\n  const handleCloseAleart = () => {\n    setOpenAleart(false);\n  };\n  //state cho xu ly delete\n  const [isDelete, setIsDelete] = useState(false);\n  const HandleDelete = () => {\n    parentCallback();\n    handleCloseAleart();\n    fetch(\"http://localhost:8000/api/comment/\" + id_com, {\n      method: \"DELETE\",\n      headers: headers\n    }).then(res => res.json()).then(data => setIsDelete(data.success)).catch(err => console.log(\"hey\"));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"commentContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"auto\"\n        },\n        children: /*#__PURE__*/_jsxDEV(ProfileIcon, {\n          iconSize: \"small\",\n          storyBorder: true,\n          image: image,\n          id_user: id_user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"textContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment\",\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"accountName\",\n            children: accountName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\xA0\\xA0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              wordWrap: \"break-word\",\n              width: \"200px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: comment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `caption small`,\n          children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n            id: \"basic-button\",\n            \"aria-controls\": openMenu ? \"basic-menu\" : undefined,\n            \"aria-haspopup\": \"true\",\n            \"aria-expanded\": openMenu ? \"true\" : undefined,\n            onClick: handleClickMenu,\n            children: /*#__PURE__*/_jsxDEV(CardButton, {\n              className: \"cardButton\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            id: \"basic-menu\",\n            anchorEl: anchorEl,\n            open: openMenu,\n            onClose: handleCloseMenu,\n            MenuListProps: {\n              \"aria-labelledby\": \"basic-button\"\n            },\n            children: [id_user == (userData === null || userData === void 0 ? void 0 : (_userData$user = userData.user) === null || _userData$user === void 0 ? void 0 : _userData$user.id_user) ? /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: handleClickOpenAleart,\n              children: \"X\\xF3a comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: handleCloseMenu,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n            open: openAleart,\n            onClose: handleCloseAleart,\n            \"aria-labelledby\": \"alert-dialog-title\",\n            \"aria-describedby\": \"alert-dialog-description\",\n            children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n              id: \"alert-dialog-title\",\n              children: \"Xác nhận xóa bài\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n                id: \"alert-dialog-description\",\n                children: \"B\\u1EA1n c\\xF3 mu\\u1ED1n x\\xF3a b\\xE0i n\\xE0y kh\\xF4ng?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleCloseAleart,\n                children: \"Disagree\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: HandleDelete,\n                autoFocus: true,\n                children: \"Agree\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(Comment, \"ViKpdfiHxuYYFYUglbo6ddqjQZU=\");\n_c = Comment;\nexport default Comment;\nvar _c;\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"names":["ProfileIcon","Menu","MenuItem","Button","ReactComponent","CardButton","React","useState","useEffect","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Comment","props","accountName","comment","image","id_user","id_com","id_post","parentCallback","headers","localStorage","getItem","saved","userData","JSON","parse","anchorEl","setAnchorEl","openMenu","Boolean","handleClickMenu","event","currentTarget","handleCloseMenu","openAleart","setOpenAleart","handleClickOpenAleart","handleCloseAleart","isDelete","setIsDelete","HandleDelete","fetch","method","then","res","json","data","success","catch","err","console","log","marginBottom","display","justifyContent","wordWrap","width","undefined","user"],"sources":["E:/thuctap3/TTCN-wido/font-end/src/components/Comment.js"],"sourcesContent":["import \"../styles/comment.scss\";\r\nimport ProfileIcon from \"./ProfileIcon\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { ReactComponent as CardButton } from \"../images/cardButton.svg\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\n\r\nfunction Comment(props) {\r\n  const {\r\n    accountName,\r\n    comment,\r\n    image,\r\n    id_user,\r\n    id_com,\r\n    id_post,\r\n    parentCallback,\r\n  } = props;\r\n  const headers = {\r\n    \"x-access-token\": localStorage.getItem(\"token\"),\r\n  };\r\n  // get userId\r\n  const saved = localStorage.getItem(\"info\");\r\n  const userData = JSON.parse(saved);\r\n  //handle cho menu button\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const openMenu = Boolean(anchorEl);\r\n  const handleClickMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  //hadnle aleart xoa bai\r\n  const [openAleart, setOpenAleart] = React.useState(false);\r\n\r\n  const handleClickOpenAleart = () => {\r\n    setOpenAleart(true);\r\n  };\r\n\r\n  const handleCloseAleart = () => {\r\n    setOpenAleart(false);\r\n  };\r\n  //state cho xu ly delete\r\n  const [isDelete, setIsDelete] = useState(false);\r\n  const HandleDelete = () => {\r\n    parentCallback();\r\n    handleCloseAleart();\r\n    fetch(\"http://localhost:8000/api/comment/\" + id_com, {\r\n      method: \"DELETE\",\r\n      headers: headers,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setIsDelete(data.success))\r\n      .catch((err) => console.log(\"hey\"));\r\n  };\r\n  return (\r\n    <div className=\"commentContainer\">\r\n      <div className=\"profile\">\r\n        <div style={{ marginBottom: \"auto\" }}>\r\n          <ProfileIcon\r\n            iconSize=\"small\"\r\n            storyBorder={true}\r\n            image={image}\r\n            id_user={id_user}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"textContainer\">\r\n          <div\r\n            className=\"comment\"\r\n            style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n          >\r\n            <div className=\"accountName\">{accountName}</div>\r\n            <span>&nbsp;&nbsp;</span>\r\n            <div style={{ wordWrap: \"break-word\", width: \"200px\" }}>\r\n              <p>{comment}</p>\r\n            </div>\r\n          </div>\r\n          <div className={`caption small`}>\r\n            {\" \"}\r\n            <Button\r\n              id=\"basic-button\"\r\n              aria-controls={openMenu ? \"basic-menu\" : undefined}\r\n              aria-haspopup=\"true\"\r\n              aria-expanded={openMenu ? \"true\" : undefined}\r\n              onClick={handleClickMenu}\r\n            >\r\n              <CardButton className=\"cardButton\" />\r\n            </Button>\r\n            <Menu\r\n              id=\"basic-menu\"\r\n              anchorEl={anchorEl}\r\n              open={openMenu}\r\n              onClose={handleCloseMenu}\r\n              MenuListProps={{\r\n                \"aria-labelledby\": \"basic-button\",\r\n              }}\r\n            >\r\n              {id_user == userData?.user?.id_user ? (\r\n                <MenuItem onClick={handleClickOpenAleart}>Xóa comment</MenuItem>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <MenuItem onClick={handleCloseMenu}>Cancel</MenuItem>\r\n            </Menu>\r\n            <Dialog\r\n              open={openAleart}\r\n              onClose={handleCloseAleart}\r\n              aria-labelledby=\"alert-dialog-title\"\r\n              aria-describedby=\"alert-dialog-description\"\r\n            >\r\n              <DialogTitle id=\"alert-dialog-title\">\r\n                {\"Xác nhận xóa bài\"}\r\n              </DialogTitle>\r\n              <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                  Bạn có muốn xóa bài này không?\r\n                </DialogContentText>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button onClick={handleCloseAleart}>Disagree</Button>\r\n                <Button onClick={HandleDelete} autoFocus>\r\n                  Agree\r\n                </Button>\r\n              </DialogActions>\r\n            </Dialog>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}