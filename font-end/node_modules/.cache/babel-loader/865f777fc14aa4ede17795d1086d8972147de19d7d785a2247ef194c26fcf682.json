{"ast":null,"code":"var _jsxFileName = \"E:\\\\thuctap3\\\\TTCN-wido\\\\font-end\\\\src\\\\components\\\\Admin\\\\Post.js\";\nimport React, { Component } from \"react\";\nimport axios, * as others from \"axios\";\nimport Admin_Index from \"./Admin_Index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.handleDelete = item => {\n      const newsId = item.id_post;\n      console.log(newsId);\n      axios.delete(\"http://localhost:8000/api/post/\" + newsId, {\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        this.setState(prevState => ({\n          posts: prevState.posts.filter(el => el.id !== item.id_post)\n        }));\n        this.componentDidMount();\n      }).catch(error => console.log(error));\n    };\n    this.state = {\n      posts: []\n    };\n  }\n  componentDidMount() {\n    axios.get(\"http://localhost:8000/api/post\", {\n      headers: {\n        \"x-access-token\": localStorage.getItem(\"token\")\n      }\n    }).then(res => {\n      const post = res.data;\n      this.setState({\n        posts: post.posts\n      });\n      console.log(post.posts);\n    }).catch(error => console.log(error));\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Admin_Index, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section2\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"col-9\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-2\",\n              children: \"id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-2\",\n              children: \"n\\u1ED9i dung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-2\",\n              children: \"ng\\xE0y \\u0111\\u0103ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), this.state.posts.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"col-9\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-2\",\n              children: item.id_post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-2 content\",\n              children: item.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-2\",\n              children: item.created_At\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-1\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => this.handleDetail(item),\n                children: \"chi ti\\u1EBFt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-1\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => this.handleDelete(item),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-trash\",\n                  children: \"x\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, item.id_post, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Post;","map":{"version":3,"names":["React","Component","axios","others","Admin_Index","Post","constructor","props","handleDelete","item","newsId","id_post","console","log","delete","headers","localStorage","getItem","then","res","setState","prevState","posts","filter","el","id","componentDidMount","catch","error","state","get","post","data","render","map","content","created_At","handleDetail"],"sources":["E:/thuctap3/TTCN-wido/font-end/src/components/Admin/Post.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport axios, * as others from \"axios\";\r\nimport Admin_Index from \"./Admin_Index\";\r\n\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      posts: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"http://localhost:8000/api/post\", {\r\n        headers: {\r\n          \"x-access-token\": localStorage.getItem(\"token\"),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        const post = res.data;\r\n        this.setState({ posts: post.posts });\r\n        console.log(post.posts);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n  handleDelete = (item) => {\r\n    const newsId = item.id_post;\r\n    console.log(newsId);\r\n\r\n    axios\r\n      .delete(\"http://localhost:8000/api/post/\" + newsId, {\r\n        headers: {\r\n          \"x-access-token\": localStorage.getItem(\"token\"),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        this.setState((prevState) => ({\r\n          posts: prevState.posts.filter((el) => el.id !== item.id_post),\r\n        }));\r\n        this.componentDidMount();\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Admin_Index />\r\n        <section className=\"section2\">\r\n          <table className=\"table\">\r\n            <tr className=\"col-9\">\r\n              <td className=\"col-2\">id</td>\r\n              <td className=\"col-2\">nội dung</td>\r\n              <td className=\"col-2\">ngày đăng</td>\r\n            </tr>\r\n            {this.state.posts.map((item) => (\r\n              <tr key={item.id_post} className=\"col-9\">\r\n                <td className=\"col-2\">{item.id_post}</td>\r\n                <td className=\"col-2 content\">{item.content}</td>\r\n                <td className=\"col-2\">{item.created_At}</td>\r\n                <td className=\"col-1\">\r\n                  <button onClick={() => this.handleDetail(item)}>\r\n                    chi tiết\r\n                  </button>\r\n                </td>\r\n                <td className=\"col-1\">\r\n                  <button onClick={() => this.handleDelete(item)}>\r\n                    <i class=\"fa fa-trash\">xóa</i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </table>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Post;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}