{"ast":null,"code":"var _jsxFileName = \"E:\\\\thuctap3\\\\TTCN-wido\\\\font-end\\\\src\\\\components\\\\Auth\\\\SendMail.js\";\nimport React, { Component } from \"react\";\nimport \"./Login.scss\";\nimport { Link } from \"react-router-dom\";\nimport axios, * as others from \"axios\";\n//import PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Code extends Component {\n  // static contextTypes = {\n  //   router: PropTypes.object,\n  // };\n  // eslint-disable-next-line no-useless-constructor\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: {},\n      errors: {}\n    };\n    this.handleChangeEmail = this.handleChangeEmail.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChangeEmail(event) {\n    let input = this.state.input;\n    input[event.target.name] = event.target.value;\n    this.setState({\n      input\n    });\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    if (this.validateEmail()) {\n      console.log(\"email: \", this.state.input.email);\n      console.log(\"all state\", this.state);\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      axios.post(\"http://localhost:8000/api/user/sendOTP/Create\", {\n        email: this.state.input.email,\n        config\n      }).then(function (response) {\n        console.log(response.status);\n        if (response.status === 200) {\n          //console.log(response.data.token);\n          alert(\"thành công\");\n          //return response.json();\n        }\n      }).catch(function (error) {\n        console.log(error);\n        alert(\"email  không đúng\");\n      });\n    }\n  }\n  validateEmail() {\n    let input = this.state.input;\n    let errors = {};\n    let isValid = true;\n    if (!input[\"email\"]) {\n      isValid = false;\n      errors[\"email\"] = \"hãy nhập email\";\n    }\n    if (typeof input[\"email\"] !== \"undefined\") {\n      var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n      if (!pattern.test(input[\"email\"])) {\n        isValid = false;\n        errors[\"email\"] = \"email không hợp lệ.\";\n      }\n    }\n    this.setState({\n      errors: errors\n    });\n    return isValid;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n          children: \"Nh\\u1EADp email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control input-login\",\n          type: \"text\",\n          placeholder: \"email ho\\u1EB7c s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n          name: \"email\",\n          id: \"email\",\n          value: this.state.input.email,\n          onChange: this.handleChangeEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-danger err\",\n          children: this.state.errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-login\",\n          onClick: this.handleSubmit,\n          children: \"g\\u1EEDi y\\xEAu c\\u1EA7u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Code;","map":{"version":3,"names":["React","Component","Link","axios","others","Code","constructor","props","state","input","errors","handleChangeEmail","bind","handleSubmit","event","target","name","value","setState","preventDefault","validateEmail","console","log","email","config","headers","post","then","response","status","alert","catch","error","isValid","pattern","RegExp","test","render"],"sources":["E:/thuctap3/TTCN-wido/font-end/src/components/Auth/SendMail.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Login.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios, * as others from \"axios\";\r\n//import PropTypes from \"prop-types\";\r\nclass Code extends Component {\r\n  // static contextTypes = {\r\n  //   router: PropTypes.object,\r\n  // };\r\n  // eslint-disable-next-line no-useless-constructor\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: {},\r\n      errors: {},\r\n    };\r\n    this.handleChangeEmail = this.handleChangeEmail.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  handleChangeEmail(event) {\r\n    let input = this.state.input;\r\n    input[event.target.name] = event.target.value;\r\n    this.setState({\r\n      input,\r\n    });\r\n  }\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    if (this.validateEmail()) {\r\n      console.log(\"email: \", this.state.input.email);\r\n      console.log(\"all state\", this.state);\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      axios\r\n        .post(\"http://localhost:8000/api/user/sendOTP/Create\", {\r\n          email: this.state.input.email,\r\n          config,\r\n        })\r\n        .then(function (response) {\r\n          console.log(response.status);\r\n          if (response.status === 200) {\r\n            //console.log(response.data.token);\r\n            alert(\"thành công\");\r\n            //return response.json();\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          alert(\"email  không đúng\");\r\n        });\r\n    }\r\n  }\r\n  validateEmail() {\r\n    let input = this.state.input;\r\n    let errors = {};\r\n    let isValid = true;\r\n    if (!input[\"email\"]) {\r\n      isValid = false;\r\n      errors[\"email\"] = \"hãy nhập email\";\r\n    }\r\n    if (typeof input[\"email\"] !== \"undefined\") {\r\n      var pattern = new RegExp(\r\n        /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i\r\n      );\r\n\r\n      if (!pattern.test(input[\"email\"])) {\r\n        isValid = false;\r\n        errors[\"email\"] = \"email không hợp lệ.\";\r\n      }\r\n    }\r\n    this.setState({\r\n      errors: errors,\r\n    });\r\n    return isValid;\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <lable>Nhập email:</lable>\r\n          <br></br>\r\n          <input\r\n            className=\"form-control input-login\"\r\n            type=\"text\"\r\n            placeholder=\"email hoặc số điện thoại\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            value={this.state.input.email}\r\n            onChange={this.handleChangeEmail}\r\n          />\r\n          <div className=\"text-danger err\">{this.state.errors.email}</div>\r\n        </div>\r\n\r\n        <div className=\"col-12\">\r\n          <button className=\"btn-login\" onClick={this.handleSubmit}>\r\n            gửi yêu cầu\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Code;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}